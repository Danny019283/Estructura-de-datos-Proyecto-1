@startuml
title Gimanasioo PowerLab - Diagrama de Clases

' ===================== CLASES PRINCIPALES =====================
class Sucursal {
  - string cod
  - string provi
  - string canton
  - string correo
  - int telef
  - List<Instructor> instructores
}

class Instructor {
  - string cedula
  - string nombreCom
  - int telef
  - string correo
  - string fechaNac
  - List<string> especialidad
}

class Cliente {
  - string cedula
  - string nombre
  - int telef
  - string correo
  - string fechaNac
  - string sexo
  - string fechaInscrip
  - int edad
  - Instructor instructor
  - HistorialMediciones historial
}

class Medicion {
  - Cliente cliente
  - float peso
  - float estatura
  - float porcGrasa
  - float porcMusculo
  - int edadMetabolica
  - float porcGrasaVis
  - float cintura
  - float pecho
  - float muslo
  - float imc
  - string clasifImc
  - float recomAgua
  - float recomProte

  + float calcImc(float peso, float estatura)
  + string calcClasifImc(float imc)
  + float calcEdadMeta(float peso, float altura, int edad, string sexo)
  + float calcRecomAgua(float peso, bool ejercicio, string sexo)
  + float calcRecomProte(float peso, bool ejercicio, string sexo)
  + string reporteMedicion()
}

class Rutina {
  - string pecho
  - string triceps
  - string biceps
  - string piernas
  - string espalda
}

class ClaseGrupal {
  - string id
  - int cupoMax
  - int numSalon
  - string especialidad
  - string horario
  - Instructor instructor
  - List<Cliente> inscritos
}

' ===================== CLASES DE COLECCIONES =====================
class ColeccionGenerica<T> {
  + bool agregar(T elemento)
  + bool modificar(T elemento)
  + bool eliminar(T elemento)
  + string toString()
}

class ColeccionClientes {
  - List<Cliente> clientes
  + Cliente buscar(string cedula)
}
class ColeccionClases {
  - List<ClaseGrupal> clases
  + ClaseGrupal buscar(string id)
  + bool verificarMaxClasesIns(Cliente cliente)
}
class ColeccionSucursales {
  - List<Sucursal> sucursales
  + Sucursal buscar(string cod)
}
class ColeccionMediciones {
  - List<Medicion> mediciones
  + Medicion buscar(string id)
}
class ColeccionInstructores {
  - List<Instructor> instructores
  + Instructor buscar(string cedula)
}

ColeccionClientes --|> ColeccionGenerica
ColeccionClases --|> ColeccionGenerica
ColeccionSucursales --|> ColeccionGenerica
ColeccionMediciones --|> ColeccionGenerica
ColeccionInstructores --|> ColeccionGenerica

' ===================== HISTORIAL =====================
class HistorialMediciones {
  - List<Medicion> historial
  + encolar(Medicion m)
  + desencolar()
  + verPrimero()
  + estaVacia()
}

' ===================== RELACIONES =====================
Sucursal "1" -- "n" Instructor
Sucursal "1" -- "0..8" ClaseGrupal

Cliente "1" -- "1" Instructor
Cliente "1" -- "1" Rutina
Cliente "1" -- "1" HistorialMediciones

HistorialMediciones "1" o-- "n" Medicion
Medicion "1" -- "1" Cliente

ClaseGrupal "1" -- "n" Cliente
ClaseGrupal "1" -- "1" Instructor

ColeccionClientes "1" o-- "n" Cliente
ColeccionClases "1" o-- "n" ClaseGrupal
ColeccionSucursales "1" o-- "n" Sucursal
ColeccionMediciones "1" o-- "n" Medicion
ColeccionInstructores "1" o-- "n" Instructor

@enduml
